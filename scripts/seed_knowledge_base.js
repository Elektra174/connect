/**
 * CONNECTUM PRO v21.29.5 - THE METHODOLOGICAL MONOLITH (ULTIMATE EXPERT ACCURACY)
 * =========================================================================
 * üöÄ –ó–ê–î–ê–ß–ê: –ü—Ä–æ—à–∏–≤–∫–∞ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π RAG (300+ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö –º–æ–¥—É–ª–µ–π).
 * üß† –ú–ï–¢–û–î–û–õ–û–ì–ò–ò: –ú–ü–¢ (–Ø–¥—Ä–æ), –≠–û–¢, –¢–ê, –ö–ü–¢, –ì–µ—à—Ç–∞–ª—å—Ç, –ü—Å–∏—Ö–æ–∞–Ω–∞–ª–∏–∑.
 * üõ°Ô∏è –ü–ê–†–ê–î–ò–ì–ú–ê: –ö–∞–∂–¥–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –≤—ã–≤–µ—Ä–µ–Ω–∞ —Å–æ–≥–ª–∞—Å–Ω–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º —à–∫–æ–ª.
 * üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê: 300+ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ç–∏–≤–Ω—ã—Ö —Å–≤—è–∑–æ–∫ [–¢—Ä–∏–≥–≥–µ—Ä -> –ò–Ω—Ç–µ—Ä–≤–µ–Ω—Ü–∏—è].
 * =========================================================================
 * –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –≤–µ–∫—Ç–æ—Ä–æ–≤: 256 (Yandex text-search-query).
 * =========================================================================
 */

const path = require('path');
require('dotenv').config({ path: path.resolve(__dirname, '../.env') });

const { createClient } = require('@supabase/supabase-js');
const axios = require('axios');
const winston = require('winston');

const logger = winston.createLogger({
    level: 'info',
    format: winston.format.combine(winston.format.timestamp(), winston.format.json()),
    transports: [
        new winston.transports.File({ filename: 'logs/seed_platinum.log' }),
        new winston.transports.Console({
            format: winston.format.combine(winston.format.colorize(), winston.format.simple())
        })
    ],
});

const YANDEX_API_KEY = process.env.YANDEX_API_KEY;
const FOLDER_ID = process.env.FOLDER_ID || process.env.YANDEX_FOLDER_ID;
const SUPABASE_URL = process.env.SUPABASE_URL;
const SUPABASE_KEY = process.env.SUPABASE_KEY;

if (!YANDEX_API_KEY || !FOLDER_ID || !SUPABASE_URL || !SUPABASE_KEY) {
    console.error("‚ùå –û—à–∏–±–∫–∞: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ .env!");
    process.exit(1);
}

const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

/**
 * üìö –£–õ–¨–¢–ò–ú–ê–¢–ò–í–ù–´–ô –†–ï–ï–°–¢–† "–ó–û–õ–û–¢–´–•" –ò–ù–¢–ï–†–í–ï–ù–¶–ò–ô
 * –ö–∞–∂–¥–∞—è –µ–¥–∏–Ω–∏—Ü–∞ ‚Äî —ç—Ç–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ —Å–æ—Ç–µ–Ω —á–∞—Å–æ–≤ —ç—Ñ–∏—Ä–æ–≤ –∏ —É—á–µ–±–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.
 */
const KNOWLEDGE_DATA = [
    // =========================================================================
    // üíé –ú–ü–¢ (–ú–ï–¢–ê-–ü–ï–†–°–û–ù–ê–õ–¨–ù–ê–Ø –¢–ï–†–ê–ü–ò–Ø ‚Äî –ê. –í–û–õ–´–ù–°–ö–ò–ô)
    // =========================================================================
    
    // –¢–ï–ú–ê: –î–ï–ù–¨–ì–ò –ò –¶–ï–ù–ù–û–°–¢–¨
    { mod: 'mpt', cat: '–î–µ–Ω—å–≥–∏', trigger: '–ë–æ—é—Å—å –Ω–∞–∑–≤–∞—Ç—å –≤—ã—Å–æ–∫—É—é —Ü–µ–Ω—É (—Å—Ç—Ä–∞—Ö –æ—Ü–µ–Ω–∫–∏)', text: '–ï—Å–ª–∏ —Ç—ã –ø—Ä–æ–¥–∞–µ—à—å –Ω–µ —á–∞—Å—ã —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏, –∞ –∏—Ö –Ω–æ–≤—É—é —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å, —Å–∫–æ–ª—å–∫–æ —ç—Ç–æ —Å—Ç–æ–∏—Ç –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É? –ü–æ—á—É–≤—Å—Ç–≤—É–π –≤–µ—Å —ç—Ç–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ —Ä—É–∫–∞—Ö.', marker: '–¶–µ–Ω–Ω–æ—Å—Ç—å vs –í—Ä–µ–º—è' },
    { mod: 'mpt', cat: '–î–µ–Ω—å–≥–∏', trigger: '–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ø–æ—Ç–æ–ª–æ–∫ (–Ω–µ –º–æ–≥—É –±–æ–ª—å—à–µ –•)', text: '–û—Ç –∫–∞–∫–æ–π –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–µ–±—è –±–µ—Ä–µ–∂–µ—Ç —ç—Ç–æ—Ç –ø–æ—Ç–æ–ª–æ–∫? –°—Ç–∞–Ω—å —ç—Ç–æ–π –ø—Ä–µ–≥—Ä–∞–¥–æ–π. –ß—Ç–æ —Å–∞–º–æ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ —Ç—ã –Ω–µ –ø—É—Å–∫–∞–µ—à—å –≤ –∂–∏–∑–Ω—å –∫–ª–∏–µ–Ω—Ç–∞? –ö–æ–≥–æ —Ç—ã —Å–ø–∞—Å–∞–µ—à—å –æ—Ç –±–æ–ª—å—à–∏—Ö –¥–µ–Ω–µ–≥?', marker: '–ü–æ–∑–∏—Ç–∏–≤–Ω–∞—è —Ü–µ–ª—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è' },
    { mod: 'mpt', cat: '–î–µ–Ω—å–≥–∏', trigger: '–°—Ç—ã–¥ –±—Ä–∞—Ç—å –¥–µ–Ω—å–≥–∏ –∑–∞ –ø–æ–º–æ—â—å', text: '–°—Ç–∞–Ω—å —ç–Ω–µ—Ä–≥–∏–µ–π –ò–∑–æ–±–∏–ª–∏—è. –ñ–∞–ª–∫–æ –ª–∏ –ò–∑–æ–±–∏–ª–∏—é —Ç–µ—á—å —á–µ—Ä–µ–∑ —Ç–µ–±—è? –ò–ª–∏ —Ç—ã –ø—Ä–æ—Å—Ç–æ —Å–æ–∑–¥–∞–µ—à—å –ø–ª–æ—Ç–∏–Ω—É –≤ –ø–æ—Ç–æ–∫–µ, –º–µ—à–∞—è –æ–±–º–µ–Ω—É?', marker: '–°–Ω—è—Ç–∏–µ –¥–µ—Ñ–∏—Ü–∏—Ç–∞—Ä–Ω–æ—Å—Ç–∏' },
    { mod: 'mpt', cat: '–î–µ–Ω—å–≥–∏', trigger: '–ë–æ—é—Å—å –∫—Ä–∏—Ç–∏–∫–∏ –∫–æ–ª–ª–µ–≥-—ç–∫—Å–ø–µ—Ä—Ç–æ–≤', text: '–°—Ç–∞–Ω—å —ç—Ç–∏–º –ö—Ä–∏—Ç–∏–∫–æ–º. –û—Ç–∫—É–¥–∞ —É —Ç–µ–±—è –≤–ª–∞—Å—Ç—å —Å—É–¥–∏—Ç—å? –ö–∞–∫—É—é —Å–≤–æ—é –Ω–µ—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –∂–∏–∑–Ω—å —Ç—ã –ø—Ä—è—á–µ—à—å –∑–∞ —ç—Ç–∏–º –æ—Å—É–∂–¥–µ–Ω–∏–µ–º –¥—Ä—É–≥–∏—Ö?', marker: '–ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –∞–≥—Ä–µ—Å—Å–∏–∏ –∫—Ä–∏—Ç–∏–∫–∞' },
    { mod: 'mpt', cat: '–î–µ–Ω—å–≥–∏', trigger: '–ú–Ω–æ–≥–æ —É—á—É—Å—å, –Ω–æ –Ω–µ –Ω–∞—á–∏–Ω–∞—é –ø—Ä–∞–∫—Ç–∏–∫—É', text: '–¢—ã —É—á–∏—à—å—Å—è, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–∫–∏. –°—Ç–∞–Ω—å —ç—Ç–æ–π –û—à–∏–±–∫–æ–π. –û–Ω–∞ –∂–∏–≤–∞—è? –û–Ω–∞ –æ–ø–∞—Å–Ω–∞—è? –ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ —Å–µ–±—è –µ—ë –≥–ª–∞–∑–∞–º–∏. –ö—Ç–æ —Ç—É—Ç –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω–∞–ø—É–≥–∞–Ω?', marker: '–ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –∏–∑–±–µ–≥–∞–Ω–∏—è' },
    { mod: 'mpt', cat: '–î–µ–Ω—å–≥–∏', trigger: '–î–µ–Ω—å–≥–∏ ‚Äî —ç—Ç–æ –≥—Ä—è–∑—å –∏–ª–∏ –∑–ª–æ', text: '–°—Ç–∞–Ω—å —ç–Ω–µ—Ä–≥–∏–µ–π —ç—Ç–∏—Ö "–≥—Ä—è–∑–Ω—ã—Ö" –¥–µ–Ω–µ–≥. –ü–æ—á—É–≤—Å—Ç–≤—É–π —Å–≤–æ—é –≤–∏—Ç–∞–ª—å–Ω–æ—Å—Ç—å –∏ –º–æ—â—å. –¢—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ø–ª–æ—Ö–∞—è –∏–ª–∏ —Ç—ã –ø—Ä–æ—Å—Ç–æ –æ—á–µ–Ω—å –∂–∏–≤–∞—è —ç–Ω–µ—Ä–≥–∏—è?', marker: '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ç–µ–Ω–∏' },
    { mod: 'mpt', cat: '–î–µ–Ω—å–≥–∏', trigger: '–ö–ª–∏–µ–Ω—Ç—ã –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç (–Ω–µ–≤–∏–¥–∏–º–æ—Å—Ç—å)', text: '–ö–∞–∫ —Ç—ã —Ç–∞–∫ –º–∞—Å—Ç–µ—Ä—Å–∫–∏ –¥–µ–ª–∞–µ—à—å —Å–µ–±—è –Ω–µ–≤–∏–¥–∏–º—ã–º –¥–ª—è –º–∏—Ä–∞? –ö–∞–∫–æ–µ —Å–≤–µ—Ä—Ö—É—Å–∏–ª–∏–µ —Ç—ã –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–µ—à—å, —á—Ç–æ–±—ã —Ç–µ–±—è –Ω–µ –Ω–∞—à–ª–∏? –ü–æ–∫–∞–∂–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ —Ç–µ–ª–æ–º.', marker: '–ê–≤—Ç–æ—Ä—Å—Ç–≤–æ –Ω–µ–≤–∏–¥–∏–º–æ—Å—Ç–∏' },
    { mod: 'mpt', cat: '–î–µ–Ω—å–≥–∏', trigger: '–ñ–∞–ª–∫–æ —Ç—Ä–∞—Ç–∏—Ç—å –¥–µ–Ω—å–≥–∏ –Ω–∞ —Å–≤–æ–∏ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è', text: '–ï—Å–ª–∏ —Ç—ã ‚Äî –ò—Å—Ç–æ—á–Ω–∏–∫, —Ä–∞–∑–≤–µ –ò—Å—Ç–æ—á–Ω–∏–∫ –º–æ–∂–µ—Ç –ø–µ—Ä–µ—Å–æ—Ö–Ω—É—Ç—å –æ—Ç —Ç–æ–≥–æ, —á—Ç–æ –æ–Ω –ø–æ–∏—Ç —Å–∞–º —Å–µ–±—è? –ü–æ–∑–≤–æ–ª—å –≤–æ–¥–µ –Ω–∞–ø–æ–ª–Ω–∏—Ç—å –±–∞—Å—Å–µ–π–Ω, —á—Ç–æ–±—ã –±—ã–ª–æ —á–µ–º –¥–µ–ª–∏—Ç—å—Å—è.', marker: '–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ—Ñ–∏—Ü–∏—Ç' },

    // –¢–ï–ú–ê: –ê–í–¢–û–†–°–¢–í–û –ò –°–£–ë–™–ï–ö–¢–ù–û–°–¢–¨
    { mod: 'mpt', cat: '–ê–≤—Ç–æ—Ä—Å—Ç–≤–æ', trigger: '–ß—É–≤—Å—Ç–≤–æ –Ω–∞–≤–∞–ª–∏–ª–æ—Å—å –Ω–∞ –º–µ–Ω—è (–æ–±—ä–µ–∫—Ç–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è)', text: '–ó–∞–º–µ—Ç–∏–ª, –∫–∞–∫ —Ç—ã —Å–µ–π—á–∞—Å –æ–ø–∏—Å—ã–≤–∞–µ—à—å —ç—Ç–æ –∫–∞–∫ –≤–Ω–µ—à–Ω—é—é —Å–∏–ª—É? –ü–æ–∫–∞–∂–∏ —Ç–µ–ª–æ–º —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ: –∫–∞–∫ –∏–º–µ–Ω–Ω–æ –¢–´ —Å–µ–π—á–∞—Å —Å–∂–∏–º–∞–µ—à—å —Å–≤–æ–µ —Ç–µ–ª–æ —ç—Ç–æ–π —Å–∏–ª–æ–π?', marker: '–í–æ–∑–≤—Ä–∞—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è' },
    { mod: 'mpt', cat: '–ê–≤—Ç–æ—Ä—Å—Ç–≤–æ', trigger: '–£ –º–µ–Ω—è –Ω–µ—Ç —Å–∏–ª, —Ç–æ—Ç–∞–ª—å–Ω–∞—è –∞–ø–∞—Ç–∏—è', text: '–ù–∞ –∫–∞–∫–æ–µ –º–æ—â–Ω–æ–µ —É—Å–∏–ª–∏–µ –ø–æ —Å–¥–µ—Ä–∂–∏–≤–∞–Ω–∏—é —Å–µ–±—è —Ç—ã —Ç—Ä–∞—Ç–∏—à—å –≤—Å—é —Å–≤–æ—é —ç–Ω–µ—Ä–≥–∏—é –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å? –ï—Å–ª–∏ —Ç—ã –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—à—å –¥–∞–≤–∏—Ç—å –Ω–∞ —Ç–æ—Ä–º–æ–∑, –∫—É–¥–∞ —Ç–µ–±—è –ø–æ–Ω–µ—Å–µ—Ç?', marker: '–≠–Ω–µ—Ä–≥–∏—è —Ç–æ—Ä–º–æ–∂–µ–Ω–∏—è' },
    { mod: 'mpt', cat: '–ê–≤—Ç–æ—Ä—Å—Ç–≤–æ', trigger: '–°–∞–±–æ—Ç–∞–∂ –∫–∞–∫ –≤–Ω–µ—à–Ω–∏–π –≤—Ä–∞–≥', text: '–ö–∞–∫ —Ç—ã —ç—Ç–æ –¥–µ–ª–∞–µ—à—å ‚Äî –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—à—å —Å–µ–±—è –≤ —Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç? –ö–∞–∫–æ–µ –∏–º–µ–Ω–Ω–æ —É—Å–∏–ª–∏–µ —Ç—ã –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–µ—à—å, —á—Ç–æ–±—ã –Ω–µ –¥–≤–∏–≥–∞—Ç—å—Å—è? –ü–æ–∫–∞–∂–∏ —ç—Ç–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ.', marker: '–ú–µ—Ö–∞–Ω–∏–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏' },
    { mod: 'mpt', cat: '–ê–≤—Ç–æ—Ä—Å—Ç–≤–æ', trigger: '–ñ–∞–ª–æ–±–∞ –Ω–∞ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞ (–Ω–∞—á–∞–ª—å–Ω–∏–∫, –º—É–∂)', text: '–ï—Å–ª–∏ —Ç—ã ‚Äî –∞–≤—Ç–æ—Ä —ç—Ç–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏, —Ç–æ –∫–∞–∫—É—é –∏–º–µ–Ω–Ω–æ –ø–æ–ª—å–∑—É —Ç—ã –∏–∑–≤–ª–µ–∫–∞–µ—à—å –∏–∑ —Ç–æ–≥–æ, —á—Ç–æ —á—É–≤—Å—Ç–≤—É–µ—à—å —Å–µ–±—è —Å–µ–π—á–∞—Å –±–µ—Å–ø–æ–º–æ—â–Ω—ã–º? –ó–∞—á–µ–º —Ç–µ–±–µ —ç—Ç–∞ –∏–≥—Ä–∞?', marker: '–í—Ç–æ—Ä–∏—á–Ω–∞—è –≤—ã–≥–æ–¥–∞' },

    // –¢–ï–ú–ê: –ò–î–ï–ù–¢–ò–ß–ù–û–°–¢–¨
    { mod: 'mpt', cat: '–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å', trigger: '–Ø –Ω–∏–∫—á–µ–º–Ω—ã–π, —è –º–∞–ª–µ–Ω—å–∫–∏–π, —è –¥–µ—Ñ–µ–∫—Ç–Ω—ã–π', text: '–ö—Ç–æ –∏–º–µ–Ω–Ω–æ –≤–Ω—É—Ç—Ä–∏ —Ç–µ–±—è —Å–µ–π—á–∞—Å –≤—ã–Ω–æ—Å–∏—Ç —ç—Ç–æ—Ç –ø—Ä–∏–≥–æ–≤–æ—Ä? –°—Ç–∞–Ω—å —ç—Ç–∏–º –°—É–¥—å–µ–π. –û—Ç–∫—É–¥–∞ —É —Ç–µ–±—è —Å—Ç–æ–ª—å–∫–æ –≤–ª–∞—Å—Ç–∏ –ø–æ–¥–∞–≤–ª—è—Ç—å —ç—Ç–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞?', marker: '–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å –∞–≥—Ä–µ—Å—Å–æ—Ä–æ–º' },
    { mod: 'mpt', cat: '–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å', trigger: '–°–∏–Ω–¥—Ä–æ–º —Å–∞–º–æ–∑–≤–∞–Ω—Ü–∞', text: '–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã ‚Äî —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π —ç–∫—Å–ø–µ—Ä—Ç –≤ —ç—Ç–æ–π —Ç–µ–º–µ. –ö–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è —Ç–≤–æ–µ –¥—ã—Ö–∞–Ω–∏–µ –∏ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø–ª–µ—á, –∫–æ–≥–¥–∞ —Ç—ã —Ä–∞–∑—Ä–µ—à–∞–µ—à—å —Å–µ–±–µ —ç—Ç–æ –∫–∞—á–µ—Å—Ç–≤–æ?', marker: '–°–º–µ–Ω–∞ —Å–∞–º–æ–æ–ø–∏—Å–∞–Ω–∏—è' },
    { mod: 'mpt', cat: '–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å', trigger: '–°—Ç—Ä–∞—Ö –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è (–º–µ–Ω—è –∑–∞–º–µ—Ç—è—Ç)', text: '–°—Ç–∞–Ω—å —ç—Ç–æ–π –æ–ø–∞—Å–Ω–æ—Å—Ç—å—é. –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã –∏ –µ—Å—Ç—å —Ç–æ—Ç —Å–∞–º—ã–π –≤–∑–≥–ª—è–¥, –∫–æ—Ç–æ—Ä—ã–π —Ç–µ–±—è –æ—Å—É–∂–¥–∞–µ—Ç. –ß—Ç–æ —Ç—ã –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —á—É–≤—Å—Ç–≤—É–µ—à—å –∫ —ç—Ç–æ–π –º–∞–ª–µ–Ω—å–∫–æ–π —Ñ–∏–≥—É—Ä–µ?', marker: '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ü–∏–∏' },
    { mod: 'mpt', cat: '–ò–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å', trigger: '–ë–æ—é—Å—å —Å–≤–æ–µ–π —Å–∏–ª—ã', text: '–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç—ã –∏ –µ—Å—Ç—å —ç—Ç–∞ —Å–∏–ª–∞. –û–ø–∏—à–∏ —Å–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ: –∫–∞–∫–æ–π —Ç—ã, –∫–æ–≥–¥–∞ —Ç–µ–±–µ –º–æ–∂–Ω–æ –≤—Å—ë? –ù—É–∂–¥–∞–µ—à—å—Å—è –ª–∏ —Ç—ã –≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ –∏–ª–∏ —Ç—ã –ø—Ä–æ—Å—Ç–æ —Ç–µ—á–µ—à—å?', marker: '–õ–µ–≥–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–≥—É—â–µ—Å—Ç–≤–∞' },

    // –¢–ï–ú–ê: –ü–°–ò–•–û–°–û–ú–ê–¢–ò–ö–ê
    { mod: 'mpt', cat: '–¢–µ–ª–æ', trigger: '–ö–æ–º –≤ –≥–æ—Ä–ª–µ (—Å–¥–µ—Ä–∂–∏–≤–∞–Ω–∏–µ)', text: '–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —ç—Ç–æ —Ç—ã —Å–∂–∏–º–∞–µ—à—å —Å–≤–æ–µ –≥–æ—Ä–ª–æ. –£—Å–∏–ª—å —ç—Ç–æ —Å–∂–∞—Ç–∏–µ. –ö–∞–∫—É—é –ø—Ä–∞–≤–¥—É —Ç—ã —Ç–∞–∫ –±–æ–∏—à—å—Å—è –≤—ã–ø—É—Å—Ç–∏—Ç—å –Ω–∞—Ä—É–∂—É? –ü–æ–∑–≤–æ–ª—å –∑–≤—É–∫—É —Ä–æ–¥–∏—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Å–∂–∞—Ç–∏—è.', marker: '–ê–≤—Ç–æ—Ä—Å—Ç–≤–æ –∑–∞–∂–∏–º–∞' },
    { mod: 'mpt', cat: '–¢–µ–ª–æ', trigger: '–¢—è–∂–µ—Å—Ç—å –≤ –ø–ª–µ—á–∞—Ö (–≥—Ä—É–∑ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏)', text: '–ö–æ–≥–æ —Ç—ã —Ç–∞—â–∏—à—å –Ω–∞ —Å–µ–±–µ? –°–±—Ä–æ—Å—å —ç—Ç–æ—Ç –º–µ—à–æ–∫ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å. –ö–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è —Ç–≤–æ–µ –¥—ã—Ö–∞–Ω–∏–µ, –∫–æ–≥–¥–∞ –ø–ª–µ—á–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–≤–æ–±–æ–¥–Ω—ã–º–∏?', marker: '–°–Ω—è—Ç–∏–µ –≥–∏–ø–µ—Ä–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏' },
    { mod: 'mpt', cat: '–¢–µ–ª–æ', trigger: '–ü–∞–Ω–∏—á–µ—Å–∫–∞—è –∞—Ç–∞–∫–∞ (—Å—Ç—Ä–∞—Ö —Å–º–µ—Ä—Ç–∏)', text: '–°—Ç–∞–Ω—å —Å–∞–º–∏–º –°—Ç—Ä–∞—Ö–æ–º. –ï—Å—Ç—å –ª–∏ —É —Å—Ç—Ä–∞—Ö–∞ –ª–µ–≥–∫–∏–µ? –ù—É–∂–¥–∞–µ—Ç—Å—è –ª–∏ –æ–Ω –≤ –≤–æ–∑–¥—É—Ö–µ? –ü–æ—á—É–≤—Å—Ç–≤—É–π —Å–µ–±—è —ç—Ç–æ–π –≤–∏–±—Ä–∏—Ä—É—é—â–µ–π —ç–Ω–µ—Ä–≥–∏–µ–π, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ –Ω—É–∂–Ω–æ –¥—ã—à–∞—Ç—å.', marker: '–ü–∞—Ä–∞–¥–æ–∫—Å–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–Ω—Ü–∏—è' },

    // =========================================================================
    // üé® –†–ê–ó–î–ï–õ 2: –≠–û–¢ (–≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–û-–û–ë–†–ê–ó–ù–ê–Ø –¢–ï–†–ê–ü–ò–Ø ‚Äî –ù. –õ–ò–ù–î–ï)
    // =========================================================================
    
    { mod: 'eit', cat: '–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è', trigger: '–û–±–∏–¥–∞ –∫–∞–∫ —Ç—è–∂–µ–ª—ã–π –∫–∞–º–µ–Ω—å –≤ –≥—Ä—É–¥–∏', text: '–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ —ç—Ç–æ—Ç –∫–∞–º–µ–Ω—å –Ω–∞ –º—ã—Å–ª–µ–Ω–Ω–æ–º —Å—Ç—É–ª–µ. –ö–æ–º—É –æ–Ω –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞–ª –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ? –¢—ã –≥–æ—Ç–æ–≤ –≤–µ—Ä–Ω—É—Ç—å –µ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü—É —Å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å—é –∑–∞ —É—Ä–æ–∫?', marker: '–í–æ–∑–≤—Ä–∞—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π' },
    { mod: 'eit', cat: '–ì—Ä–∞–Ω–∏—Ü—ã', trigger: '–ß—É–≤—Å—Ç–≤–æ "—Ç—Ä—è–ø–∫–∏", –æ–± –∫–æ—Ç–æ—Ä—É—é –≤—ã—Ç–∏—Ä–∞—é—Ç –Ω–æ–≥–∏', text: '–°—Ç–∞–Ω—å —ç—Ç–æ–π —Ç—Ä—è–ø–∫–æ–π. –ö–∞–∫–∏–º –ø—Ä–µ–¥–º–µ—Ç–æ–º —Ç—ã —Ö–æ—á–µ—à—å —Å—Ç–∞—Ç—å, —á—Ç–æ–±—ã —Ç–µ–±—è –±—ã–ª–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å? –ü–æ—á—É–≤—Å—Ç–≤—É–π —Å–≤–æ—é –Ω–æ–≤—É—é –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –∏ –≥—Ä–∞–Ω–∏—Ü—ã.', marker: '–°–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞' },
    { mod: 'eit', cat: '–ü—Ä–µ–¥–ø–∏—Å–∞–Ω–∏—è', trigger: '–ó–∞–ø—Ä–µ—Ç –Ω–∞ —Ä–∞–¥–æ—Å—Ç—å (—á–µ—Ä–Ω–∞—è –≤—É–∞–ª—å)', text: '–ü–æ—Å–º–æ—Ç—Ä–∏, —á—å—è —Ä—É–∫–∞ –¥–µ—Ä–∂–∏—Ç —ç—Ç—É —á–µ—Ä–Ω—É—é –≤—É–∞–ª—å –Ω–∞–¥ —Ç–≤–æ–µ–π –∂–∏–∑–Ω—å—é? –¢—ã –≥–æ—Ç–æ–≤ –≤–µ—Ä–Ω—É—Ç—å —ç—Ç–æ—Ç "–ø–æ–¥–∞—Ä–æ–∫" –∑–∞–∫–æ–Ω–Ω–æ–º—É –≤–ª–∞–¥–µ–ª—å—Ü—É? –ö–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è —Å–≤–µ—Ç –≤ –∫–æ–º–Ω–∞—Ç–µ?', marker: '–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–µ–¥–ø–∏—Å–∞–Ω–∏—è' },
    { mod: 'eit', cat: '–†–µ—Å—É—Ä—Å', trigger: '–•–æ–ª–æ–¥ –≤ –∂–∏–≤–æ—Ç–µ (—ç–∫–∑–∏—Å—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Å—Ç—Ä–∞—Ö)', text: '–ü—Ä–µ–¥—Å—Ç–∞–≤—å –≤ —Ü–µ–Ω—Ç—Ä–µ —ç—Ç–æ–≥–æ —Ö–æ–ª–æ–¥–∞ –∏—Å–∫—Ä—É —Ç–µ–ø–ª–∞. –ù–∞—á–Ω–∏ —Ä–∞–∑–¥—É–≤–∞—Ç—å –µ—ë —Å–≤–æ–∏–º –¥—ã—Ö–∞–Ω–∏–µ–º. –ö–∞–∫ –º–µ–Ω—è–µ—Ç—Å—è –æ–±—Ä–∞–∑ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Ç–≤–æ–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ–π—á–∞—Å?', marker: '–°–∞–º–æ–Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ' },
    { mod: 'eit', cat: '–¢—Ä–∞–≤–º–∞', trigger: '–î—ã—Ä–∞ –≤ —Å–µ—Ä–¥—Ü–µ (–ø–æ—Ç–µ—Ä—è –ª—é–±–≤–∏)', text: '–í–µ—Ä–Ω–∏ —Å–µ–±–µ —Ç—É –ª—é–±–æ–≤—å, –∫–æ—Ç–æ—Ä—É—é —Ç—ã –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–ª –≤ —ç—Ç–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞. –í–¥–æ—Ö–Ω–∏ –µ—ë –æ–±—Ä–∞—Ç–Ω–æ –∫–∞–∫ –∑–æ–ª–æ—Ç–æ–π —Å–≤–µ—Ç. –¢–µ–ø–µ—Ä—å —Ç–≤–æ—ë —Å–µ—Ä–¥—Ü–µ –Ω–∞–ø–æ–ª–Ω–µ–Ω–æ?', marker: '–ó–∞–∫—Ä—ã—Ç–∏–µ –¥–µ—Ñ–∏—Ü–∏—Ç–∞' },
    { mod: 'eit', cat: '–ê–≥—Ä–µ—Å—Å–∏—è', trigger: '–û–±—Ä–∞–∑ –∑–ª–æ–π —Å–æ–±–∞–∫–∏ –Ω–∞ —Ü–µ–ø–∏', text: '–°–Ω–∏–º–∏ –æ—à–µ–π–Ω–∏–∫ —Å —ç—Ç–æ–π —Å–æ–±–∞–∫–∏. –°—Ç–∞–Ω—å –µ—é. –ö–∞–∫—É—é —Å–≤–æ—é —Å–∏–ª—É —Ç—ã —Ç–∞–∫ –¥–æ–ª–≥–æ –¥–µ—Ä–∂–∞–ª –Ω–∞ –ø—Ä–∏–≤—è–∑–∏? –ù–∞–ø—Ä–∞–≤—å —ç—Ç—É —Å–∏–ª—É –Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Å–≤–æ–∏—Ö —Ü–µ–ª–µ–π.', marker: '–ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —Å–∏–ª—ã' },

    // =========================================================================
    // üé≠ –†–ê–ó–î–ï–õ 3: –¢–ê (–¢–†–ê–ù–ó–ê–ö–¢–ù–´–ô –ê–ù–ê–õ–ò–ó ‚Äî –≠. –ë–ï–†–ù)
    // =========================================================================

    { mod: 'ta', cat: '–≠–≥–æ-—Å–æ—Å—Ç–æ—è–Ω–∏—è', trigger: '–ö–ª–∏–µ–Ω—Ç –ø—Ä–æ—Å–∏—Ç —Å–æ–≤–µ—Ç–∞: "–ö–∞–∫ –º–Ω–µ –±—ã—Ç—å?"', text: '–°–µ–π—á–∞—Å —Ç–≤–æ–π –†–µ–±–µ–Ω–æ–∫ –ø—Ä–æ—Å–∏—Ç –º–µ–Ω—è —Å—Ç–∞—Ç—å —Ç–≤–æ–∏–º –†–æ–¥–∏—Ç–µ–ª–µ–º. –î–∞–≤–∞–π –Ω–∞–π–¥–µ–º —Ç–≤–æ–µ–≥–æ –í–∑—Ä–æ—Å–ª–æ–≥–æ: –∫–∞–∫–∏–µ —Ñ–∞–∫—Ç—ã —É –Ω–µ–≥–æ –µ—Å—Ç—å –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è?', marker: '–ö–æ–Ω—Ç—Ä–∞–∫—Ç –Ω–∞ –í–∑—Ä–æ—Å–ª–æ–≥–æ' },
    { mod: 'ta', cat: '–ò–≥—Ä—ã', trigger: '–ò–≥—Ä–∞ "–î–∞, –Ω–æ..." (–û–±–µ—Å—Ü–µ–Ω–∏–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)', text: '–Ø –∑–∞–º–µ—á–∞—é, —á—Ç–æ –Ω–∞ –∫–∞–∂–¥–æ–µ –º–æ–µ —Å–ª–æ–≤–æ —É —Ç–µ–±—è –≥–æ—Ç–æ–≤–æ "–Ω–æ". –ö–∞–∫–æ–π —Ç–≤–æ–π —Å–∫—Ä—ã—Ç—ã–π –≤—ã–∏–≥—Ä—ã—à –≤ —Ç–æ–º, —á—Ç–æ–±—ã —è –æ—Å—Ç–∞–ª—Å—è –±–µ—Å—Å–∏–ª—å–Ω—ã–º?', marker: '–†–∞—Å–∫—Ä—ã—Ç–∏–µ –∏–≥—Ä—ã' },
    { mod: 'ta', cat: '–î—Ä–∞–π–≤–µ—Ä—ã', trigger: '–ö–ª–∏–µ–Ω—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–ø–µ—à–∏—Ç ("–°–ø–µ—à–∏")', text: '–¢–≤–æ–π –¥—Ä–∞–π–≤–µ—Ä "–°–ø–µ—à–∏" –Ω–µ –¥–∞–µ—Ç —Ç–µ–±–µ –¥–∞–∂–µ –≤–∑–¥–æ—Ö–Ω—É—Ç—å. –ß—Ç–æ —Å–∞–º–æ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ —Å–ª—É—á–∏—Ç—Å—è, –µ—Å–ª–∏ —Ç—ã —Å–µ–π—á–∞—Å –∑–∞–º–µ–¥–ª–∏—à—å—Å—è –≤ –¥–≤–∞ —Ä–∞–∑–∞?', marker: '–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –±—ã—Ç–∏–µ' },
    { mod: 'ta', cat: '–°—Ü–µ–Ω–∞—Ä–∏–π', trigger: '–Ø –≤—Å–µ–≥–¥–∞ –≤—ã–±–∏—Ä–∞—é –Ω–µ —Ç–µ—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤', text: '–ö–∞–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Ç—ã –ø—Ä–∏–Ω—è–ª –æ —Å–µ–±–µ –≤ —Ä–∞–Ω–Ω–µ–º –¥–µ—Ç—Å—Ç–≤–µ, —á—Ç–æ–±—ã —Ä–∞–∑ –∑–∞ —Ä–∞–∑–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å —Å–≤–æ—é –Ω–µ–Ω—É–∂–Ω–æ—Å—Ç—å? –¢—ã –≥–æ—Ç–æ–≤ —Ä–∞—Å—Ç–æ—Ä–≥–Ω—É—Ç—å —ç—Ç–æ—Ç –∫–æ–Ω—Ç—Ä–∞–∫—Ç?', marker: '–ü–µ—Ä–µ—Ä–µ—à–µ–Ω–∏–µ' },
    { mod: 'ta', cat: '–ò–≥—Ä—ã', trigger: '–ò–≥—Ä–∞ "–£–¥–∞—Ä—å –º–µ–Ω—è" (–ø—Ä–æ–≤–æ–∫–∞—Ü–∏—è –∞–≥—Ä–µ—Å—Å–∏–∏)', text: '–Ø —á—É–≤—Å—Ç–≤—É—é –∏—Å–∫—É—à–µ–Ω–∏–µ —Ç–µ–±—è —Å–µ–π—á–∞—Å –æ—Ç—Ä—É–≥–∞—Ç—å. –ü–æ—Ö–æ–∂–µ, —Ç—ã –º–∞—Å—Ç–µ—Ä—Å–∫–∏ –∑–∞–º–∞–Ω–∏–≤–∞–µ—à—å –º–µ–Ω—è –≤ —Ä–æ–ª—å –ö—Ä–∏—Ç–∏–∫—É—é—â–µ–≥–æ –†–æ–¥–∏—Ç–µ–ª—è. –ó–∞—á–µ–º —Ç–µ–±–µ —ç—Ç–æ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ?', marker: '–ü—Ä–µ—Å–µ—á–µ–Ω–∏–µ –∏–≥—Ä—ã' },

    // =========================================================================
    // üß© –†–ê–ó–î–ï–õ 4: –ö–ü–¢ (–ö–û–ì–ù–ò–¢–ò–í–ù–û-–ü–û–í–ï–î–ï–ù–ß–ï–°–ö–ê–Ø –¢–ï–†–ê–ü–ò–Ø ‚Äî –ê. –ë–ï–ö)
    // =========================================================================

    { mod: 'cbt', cat: '–ò—Å–∫–∞–∂–µ–Ω–∏—è', trigger: '–ö–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏–∑–∞—Ü–∏—è: "–í—Å–µ –ø—Ä–æ–ø–∞–ª–æ, —è —É–º—Ä—É –≤ –Ω–∏—â–µ—Ç–µ"', text: '–ö–∞–∫–æ–≤–∞ —Ä–µ–∞–ª—å–Ω–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å (–æ—Ç 0 –¥–æ 100%) —Ö—É–¥—à–µ–≥–æ –∏—Å—Ö–æ–¥–∞ –ø—Ä—è–º–æ –∑–∞–≤—Ç—Ä–∞? –ö–∞–∫–∏–µ –µ—Å—Ç—å —Ñ–∞–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å –æ–ø—Ä–æ–≤–µ—Ä–≥–∞—é—Ç —ç—Ç—É –º—ã—Å–ª—å?', marker: '–ö–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–π –¥–∏—Å–ø—É—Ç' },
    { mod: 'cbt', cat: '–ò—Å–∫–∞–∂–µ–Ω–∏—è', trigger: '–î–æ–ª–∂–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ: "–Ø –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–º"', text: '–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –ø–æ —Ñ–∞–∫—Ç—É, –µ—Å–ª–∏ —Ç—ã —Å–æ–≤–µ—Ä—à–∏—à—å –æ—à–∏–±–∫—É? –°—Ç–∞–Ω–æ–≤–∏—à—å—Å—è –ª–∏ —Ç—ã –æ—Ç —ç—Ç–æ–≥–æ —Ö—É–∂–µ –∫–∞–∫ –ª–∏—á–Ω–æ—Å—Ç—å? –î–∞–≤–∞–π –∑–∞–º–µ–Ω–∏–º "–¥–æ–ª–∂–µ–Ω" –Ω–∞ "—Ö–æ—Ç–µ–ª –±—ã".', marker: '–°–Ω—è—Ç–∏–µ —Ç–∏—Ä–∞–Ω–∏–∏' },
    { mod: 'cbt', cat: '–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç', trigger: '–°—Ç—Ä–∞—Ö –Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –æ–∫—Ä—É–∂–∞—é—â–∏—Ö', text: '–¢–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ: —Å–æ–≤–µ—Ä—à–∏ —Å–µ–≥–æ–¥–Ω—è –º–∞–ª–µ–Ω—å–∫—É—é –æ—à–∏–±–∫—É —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–ø—É—Ç–∞–π –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ—Ñ–µ). –ó–∞–ø–∏—à–∏ —Ä–µ–∞–∫—Ü–∏—é –ª—é–¥–µ–π. –ß—Ç–æ —Ç—ã –∑–∞–º–µ—Ç–∏–ª?', marker: '–≠–∫—Å–ø–æ–∑–∏—Ü–∏—è' },
    { mod: 'cbt', cat: '–ò—Å–∫–∞–∂–µ–Ω–∏—è', trigger: '–ß—Ç–µ–Ω–∏–µ –º—ã—Å–ª–µ–π: "–û–Ω–∏ –¥—É–º–∞—é—Ç –æ–±–æ –º–Ω–µ –ø–ª–æ—Ö–æ"', text: '–£ —Ç–µ–±—è –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –∏—Ö –º—ã—Å–ª–µ–π? –ú–æ–∂–µ—à—å –ª–∏ —Ç—ã –ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏—Ö –ø–æ–≤–µ–¥–µ–Ω–∏—é?', marker: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–∏–ø–æ—Ç–µ–∑—ã' },
    { mod: 'cbt', cat: '–ò—Å–∫–∞–∂–µ–Ω–∏—è', trigger: '–ß–µ—Ä–Ω–æ-–±–µ–ª–æ–µ –º—ã—à–ª–µ–Ω–∏–µ: "–ò–ª–∏ –ª—É—á—à–∏–π, –∏–ª–∏ –Ω–∏—á—Ç–æ"', text: '–î–∞–≤–∞–π –Ω–∞–π–¥–µ–º —à–∫–∞–ª—É –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –∫—Ä–∞–π–Ω–æ—Å—Ç—è–º–∏. –ù–∞ –∫–∞–∫–æ–π –æ—Ç–º–µ—Ç–∫–µ —Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è —Å–µ–≥–æ–¥–Ω—è? –û–ø–∏—à–∏ —Å–µ—Ä—ã–µ –∑–æ–Ω—ã —Å–≤–æ–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.', marker: '–ö–æ–Ω—Ç–∏–Ω—É—É–º' },

    // =========================================================================
    // üåä –†–ê–ó–î–ï–õ 5: –ì–ï–®–¢–ê–õ–¨–¢-–¢–ï–†–ê–ü–ò–Ø (–§. –ü–ï–†–õ–ó)
    // =========================================================================

    { mod: 'gestalt', cat: '–ö–æ–Ω—Ç–∞–∫—Ç', trigger: '–£—Ö–æ–¥ –≤ —Ä–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—é/–ø—Ä–æ—à–ª–æ–µ', text: '–Ø —Å–ª—ã—à—É —Ç–≤–æ—é –∏—Å—Ç–æ—Ä–∏—é, –Ω–æ –∑–∞–º–µ—Ç—å: —Å–µ–π—á–∞—Å —Ç—ã –ø–µ—Ä–µ—Å—Ç–∞–ª –Ω–∞ –º–µ–Ω—è —Å–º–æ—Ç—Ä–µ—Ç—å –∏ –∑–∞–¥–µ—Ä–∂–∞–ª –¥—ã—Ö–∞–Ω–∏–µ. –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –º–µ–∂–¥—É –Ω–∞–º–∏ –ø—Ä—è–º–æ –∑–¥–µ—Å—å –∏ —Å–µ–π—á–∞—Å?', marker: '–ì—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞' },
    { mod: 'gestalt', cat: '–ü–æ–ª—è—Ä–Ω–æ—Å—Ç–∏', trigger: '–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç: "–•–æ—á—É –∏ –±–æ—é—Å—å"', text: '–ü–æ—Å–∞–¥–∏ —Å–≤–æ—é "—Ö–æ—Ç—è—â—É—é —á–∞—Å—Ç—å" –Ω–∞ –æ–¥–∏–Ω —Å—Ç—É–ª, –∞ "–±–æ—è—â—É—é—Å—è" –Ω–∞ –¥—Ä—É–≥–æ–π. –û —á–µ–º –æ–Ω–∏ —Ö–æ—Ç—è—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞? –ü–æ–∑–≤–æ–ª—å –∏–º –Ω–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥.', marker: '–ü—É—Å—Ç–æ–π —Å—Ç—É–ª' },
    { mod: 'gestalt', cat: '–§–µ–Ω–æ–º–µ–Ω–æ–ª–æ–≥–∏—è', trigger: '–î—Ä–æ–∂—å –≤ —Ä—É–∫–∞—Ö –ø—Ä–∏ –æ–±—Å—É–∂–¥–µ–Ω–∏–∏ –≥–Ω–µ–≤–∞', text: '–¢–≤–æ–∏ —Ä—É–∫–∏ —Å–µ–π—á–∞—Å –¥—Ä–æ–∂–∞—Ç. –ï—Å–ª–∏ –±—ã —ç—Ç–∞ –¥—Ä–æ–∂—å –º–æ–≥–ª–∞ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –∑–∞–∫–æ–Ω—á–µ–Ω–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, —á—Ç–æ –±—ã —Ç–≤–æ–∏ —Ä—É–∫–∏ —Å–¥–µ–ª–∞–ª–∏ —Å–µ–π—á–∞—Å? –°–¥–µ–ª–∞–π —ç—Ç–æ.', marker: '–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ü–∏–∫–ª–∞' },
    { mod: 'gestalt', cat: '–ò–Ω—Ç—Ä–æ–µ–∫—Ç—ã', trigger: '–ö–ª–∏–µ–Ω—Ç: "–ù–µ–ª—å–∑—è –∑–ª–∏—Ç—å—Å—è –Ω–∞ –±–ª–∏–∑–∫–∏—Ö"', text: '–û—Ç–∫—É–¥–∞ –ø—Ä–∏—à–ª–æ —ç—Ç–æ –ø—Ä–∞–≤–∏–ª–æ? –ü–æ–ø—Ä–æ–±—É–π —Å–∫–∞–∑–∞—Ç—å —Å–µ–π—á–∞—Å: "–Ø –∑–ª—é—Å—å –Ω–∞ —Ç–µ–±—è –∏ —è –∏–º–µ—é –Ω–∞ —ç—Ç–æ –ø—Ä–∞–≤–æ". –ü—Ä–∏—Å–ª—É—à–∞–π—Å—è –∫ –æ—Ç–∫–ª–∏–∫—É –≤ —Ç–µ–ª–µ.', marker: '–ê—Å—Å–∏–º–∏–ª—è—Ü–∏—è –∏–Ω—Ç—Ä–æ–µ–∫—Ç–∞' },
    { mod: 'gestalt', cat: '–†–µ—Ç—Ä–æ—Ñ–ª–µ–∫—Å–∏—è', trigger: '–ö–ª–∏–µ–Ω—Ç –∫—É—Å–∞–µ—Ç –≥—É–±—ã –∏–ª–∏ —Å–∂–∏–º–∞–µ—Ç —Å–µ–±—è', text: '–¢—ã —Å–µ–π—á–∞—Å –∫—É—Å–∞–µ—à—å —Å–µ–±—è. –ï—Å–ª–∏ –±—ã —Ç—ã –º–æ–≥ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å —ç—Ç–æ—Ç –∏–º–ø—É–ª—å—Å –Ω–µ –Ω–∞ —Å–µ–±—è, –∞ –Ω–∞ —Ç–æ–≥–æ, –∫–æ–º—É –æ–Ω –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω, –∫–∞–∫ –±—ã —ç—Ç–æ –≤—ã–≥–ª—è–¥–µ–ª–æ?', marker: '–†–∞–∑–≤–æ—Ä–æ—Ç —ç–Ω–µ—Ä–≥–∏–∏' },

    // =========================================================================
    // üï∞ –†–ê–ó–î–ï–õ 6: –ü–°–ò–•–û–ê–ù–ê–õ–ò–ó (–ó. –§–†–ï–ô–î)
    // =========================================================================

    { mod: 'psychoanalysis', cat: '–ü–µ—Ä–µ–Ω–æ—Å', trigger: '–û–∂–∏–¥–∞–Ω–∏–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è —Ç–µ—Ä–∞–ø–µ–≤—Ç–∞', text: '–ù–∞ –∫–æ–≥–æ —è —Å–µ–π—á–∞—Å –ø–æ—Ö–æ–∂ –∏–∑ —Ç–≤–æ–µ–≥–æ –ø—Ä–æ—à–ª–æ–≥–æ, –∫–æ–≥–¥–∞ —Ç—ã —Ç–∞–∫ –∂–∞–∂–¥–µ—à—å –º–æ–µ–π –ø–æ—Ö–≤–∞–ª—ã? –ö—Ç–æ –±—ã–ª —Ç–µ–º –ø–µ—Ä–≤—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º, —á—å—ë –æ–¥–æ–±—Ä–µ–Ω–∏–µ –±—ã–ª–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–º?', marker: '–ê–Ω–∞–ª–∏–∑ –ø–µ—Ä–µ–Ω–æ—Å–∞' },
    { mod: 'psychoanalysis', cat: '–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ', trigger: '–ö–ª–∏–µ–Ω—Ç –º–æ–ª—á–∏—Ç –∏–ª–∏ –∑–∞–±—ã–≤–∞–µ—Ç —Ç–µ–º—ã', text: '–¢–≤–æ–µ –º–æ–ª—á–∞–Ω–∏–µ —Å–µ–π—á–∞—Å –∫–∞–∂–µ—Ç—Å—è –æ—á–µ–Ω—å –≤–µ—Å–æ–º—ã–º. –û —á–µ–º —Å–∞–º–æ–º –≤–∞–∂–Ω–æ–º –º—ã —Å–µ–π—á–∞—Å –ù–ï –≥–æ–≤–æ—Ä–∏–º, —á—Ç–æ–±—ã –∑–∞—â–∏—Ç–∏—Ç—å —Ç–≤–æ–π –ø–æ–∫–æ–π?', marker: '–†–∞–±–æ—Ç–∞ —Å –∑–∞—â–∏—Ç–æ–π' },
    { mod: 'psychoanalysis', cat: '–ê—Å—Å–æ—Ü–∏–∞—Ü–∏–∏', trigger: '–¢—É–ø–∏–∫ –≤ —Ä–∞—Å—Å–∫–∞–∑–µ –æ —Å–Ω–µ', text: '–ù–µ –ø—ã—Ç–∞–π—Å—è –ø–æ–Ω—è—Ç—å. –ö–∞–∫–∏–µ —Ç—Ä–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–ª–æ–≤–∞ –∏–ª–∏ –æ–±—Ä–∞–∑–∞ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–∞ —É–º –ø–µ—Ä–≤—ã–º–∏ –≤ —Å–≤—è–∑–∏ —Å —ç—Ç–æ–π –¥–µ—Ç–∞–ª—å—é —Å–Ω–∞? –ö—É–¥–∞ –æ–Ω–∏ –≤–µ–¥—É—Ç —Ç–≤–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ?', marker: '–î–æ—Å—Ç—É–ø –∫ –±–µ—Å—Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–º—É' },
    { mod: 'psychoanalysis', cat: '–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ', trigger: '–û–ø–æ–∑–¥–∞–Ω–∏—è –Ω–∞ —Å–µ—Å—Å–∏–∏', text: '–¢–≤–æ–µ –æ–ø–æ–∑–¥–∞–Ω–∏–µ ‚Äî —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ. –ß—Ç–æ —Ç—ã –ø—ã—Ç–∞–µ—à—å—Å—è —Å–∫–∞–∑–∞—Ç—å –º–Ω–µ –∏ —Å–µ–±–µ —ç—Ç–∏–º –¥–µ–π—Å—Ç–≤–∏–µ–º? –û—Ç –≤—Å—Ç—Ä–µ—á–∏ —Å —á–µ–º –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è —Ç—ã –ø—ã—Ç–∞–µ—à—å—Å—è –≤—ã–∏–≥—Ä–∞—Ç—å –≤—Ä–µ–º—è?', marker: '–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –¥–µ–π—Å—Ç–≤–∏—è' },

    // ... (–ü–†–û–î–û–õ–ñ–ï–ù–ò–ï: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–æ 300+ –µ–¥–∏–Ω–∏—Ü —á–µ—Ä–µ–∑ –≤–∞—Ä–∏–∞—Ç–∏–≤–Ω—ã–µ –∫–µ–π—Å—ã) ...
    { mod: 'mpt', cat: '–°–µ–∫—Å—É–∞–ª—å–Ω–æ—Å—Ç—å', trigger: '–°—Ç—ã–¥ –∑–∞ —Å–≤–æ–∏ –∂–µ–ª–∞–Ω–∏—è', text: '–ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ —Ç–≤–æ–µ –∂–µ–ª–∞–Ω–∏–µ ‚Äî —ç—Ç–æ –æ–≥–æ–Ω—å. –°—Ç–∞–Ω—å —ç—Ç–∏–º –æ–≥–Ω–µ–º. –ö–∞–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏ —Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, –∫–æ–≥–¥–∞ —Ç—ã –ø—Ä–æ—Å—Ç–æ –≥–æ—Ä–∏—à—å? –ú–µ—à–∞–µ—Ç –ª–∏ —Ç–µ–±–µ —Å—Ç—ã–¥, –∫–æ–≥–¥–∞ —Ç—ã ‚Äî –ø–ª–∞–º—è?', marker: '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–∏—Ç–∞–ª—å–Ω–æ—Å—Ç–∏' },
    { mod: 'eit', cat: '–¢—Ä–∞–≤–º–∞', trigger: '–û—â—É—â–µ–Ω–∏–µ "–≥—Ä—è–∑–∏" –ø–æ—Å–ª–µ –Ω–∞—Å–∏–ª–∏—è', text: '–ü—Ä–µ–¥—Å—Ç–∞–≤—å —ç—Ç—É "–≥—Ä—è–∑—å" –∫–∞–∫ —Å–ª–æ–π –Ω–∞ –∫–æ–∂–µ. –¢—ã –º–æ–∂–µ—à—å —Å–º—ã—Ç—å –µ—ë –ñ–∏–≤–æ–π –í–æ–¥–æ–π? –°—Ç–∞–Ω—å —ç—Ç–æ–π –í–æ–¥–æ–π. –û–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –≥—Ä—è–∑–Ω–æ–π –ø–æ —Å–≤–æ–µ–π —Å—É—Ç–∏? –í–µ—Ä–Ω–∏ —á–∏—Å—Ç–æ—Ç—É —Å–µ–±–µ.', marker: '–û—á–∏—â–µ–Ω–∏–µ –æ–±—Ä–∞–∑–∞' },
    { mod: 'ta', cat: '–ö–æ–Ω—Ç—Ä–∞–∫—Ç', trigger: '–ö–ª–∏–µ–Ω—Ç —Å–∞–±–æ—Ç–∏—Ä—É–µ—Ç –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è', text: '–ú—ã –¥–æ–≥–æ–≤–∞—Ä–∏–≤–∞–ª–∏—Å—å –æ –¥–µ–π—Å—Ç–≤–∏—è—Ö, –Ω–æ —Ç—ã –∏—Ö –Ω–µ –¥–µ–ª–∞–µ—à—å. –ü–æ—Ö–æ–∂–µ, —Ç–≤–æ–π –†–µ–±–µ–Ω–æ–∫ —Å–∞–±–æ—Ç–∏—Ä—É–µ—Ç –Ω–∞—à –∫–æ–Ω—Ç—Ä–∞–∫—Ç, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –º–µ–Ω—è –Ω–∞ —Å—Ç—Ä–æ–≥–æ—Å—Ç—å. –î–∞–≤–∞–π –ø–µ—Ä–µ–¥–æ–≥–æ–≤–æ—Ä–∏–º—Å—è.', marker: '–ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞' },
    { mod: 'cbt', cat: '–î–∏—Å–ø—É—Ç', trigger: '–°–≤–µ—Ä—Ö-–æ–±–æ–±—â–µ–Ω–∏–µ: "–ú–µ–Ω—è –Ω–∏–∫—Ç–æ –Ω–µ –ª—é–±–∏—Ç"', text: '–ë—É–∫–≤–∞–ª—å–Ω–æ –Ω–∏ –æ–¥–∏–Ω –∏–∑ 8 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ –ª—é–¥–µ–π? –î–∞–≤–∞–π –Ω–∞–π–¥–µ–º —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—è–≤–∏–ª –∫ —Ç–µ–±–µ –¥–æ–±—Ä–æ—Ç—É –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≥–æ–¥. –ö–∞–∫ —ç—Ç–æ –æ–ø—Ä–æ–≤–µ—Ä–≥–∞–µ—Ç —Ç–≤–æ–µ "–Ω–∏–∫—Ç–æ"?', marker: '–ü–æ–∏—Å–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π' },
    { mod: 'gestalt', cat: '–ö–æ–Ω—Ñ–ª—é—ç–Ω—Ü–∏—è', trigger: '–ö–ª–∏–µ–Ω—Ç –≥–æ–≤–æ—Ä–∏—Ç "–ú—ã" –≤–º–µ—Å—Ç–æ "–Ø"', text: '–ó–∞–º–µ—Ç—å, –∫–æ–≥–¥–∞ —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å "–ú—ã", –≥–¥–µ –≤ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –Ω–∞—Ö–æ–¥–∏—à—å—Å—è –ª–∏—á–Ω–æ –¢—ã? –ü–æ–ø—Ä–æ–±—É–π —Å–∫–∞–∑–∞—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ, –Ω–∞—á–∏–Ω–∞—è —Ñ—Ä–∞–∑—É —Å "–Ø —Ö–æ—á—É...".', marker: '–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏—è –Ø' },
    { mod: 'psychoanalysis', cat: '–¢—Ä–∞–≤–º–∞', trigger: '–ù–∞–≤—è–∑—á–∏–≤–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –Ω–µ—É–¥–∞—á', text: '–¢–≤–æ–∏ –Ω–µ—É–¥–∞—á–∏ –ø–æ—Ö–æ–∂–∏ –Ω–∞ —Ä–∏—Ç—É–∞–ª. –ö–∞–∫—É—é —Å—Ç–∞—Ä—É—é –¥—Ä–∞–º—É —Ç—ã –ø—ã—Ç–∞–µ—à—å—Å—è –ø–µ—Ä–µ–∏–≥—Ä–∞—Ç—å –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –∏–Ω–∞—á–µ, —Ä–∞–∑ –∑–∞ —Ä–∞–∑–æ–º –ø–æ–ø–∞–¥–∞—è –≤ –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ª–æ–≤—É—à–∫—É?', marker: '–ù–∞–≤—è–∑—á–∏–≤–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ' },
    { mod: 'mpt', cat: '–ì—Ä–∞–Ω–∏—Ü—ã', trigger: '–ù–µ –º–æ–≥—É –∑–∞—â–∏—Ç–∏—Ç—å—Å—è –æ—Ç –∞–≥—Ä–µ—Å—Å–∏–∏', text: '–°—Ç–∞–Ω—å —Å–∞–º–æ–π –ê–≥—Ä–µ—Å—Å–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞ —Ç–µ–±—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞. –ü–æ—á—É–≤—Å—Ç–≤—É–π –µ—ë –≤–∫—É—Å. –û–Ω–∞ –ø–ª–æ—Ö–∞—è –∏–ª–∏ –æ–Ω–∞ –ø—Ä–æ—Å—Ç–æ —Å–∏–ª—å–Ω–∞—è? –ú–æ–∂–µ—à—å –ª–∏ —Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç—É —Å–∏–ª—É –¥–ª—è —Å–≤–æ–µ–π –∑–∞—â–∏—Ç—ã?', marker: '–ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —Å–∏–ª—ã' },
];

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –æ–±—ä–µ–º–∞ 300+ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –∫–∞—á–µ—Å—Ç–≤–∞
// –ú—ã –±–µ—Ä–µ–º 40 –±–∞–∑–æ–≤—ã—Ö –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –∏ –ø—Ä–∏–º–µ–Ω—è–µ–º –∫ –Ω–∏–º 6 —Ä–∞–∑–Ω—ã—Ö —à–∫–æ–ª.
const context_matrix = [
    { n: '—Å—Ç—Ä–∞—Ö —É—Å–ø–µ—Ö–∞', mpt: '–∞–≤—Ç–æ—Ä—Å—Ç–≤–æ –Ω–µ–≤–∏–¥–∏–º–æ—Å—Ç–∏', eit: '–æ–±—Ä–∞–∑ —Ç—è–∂–µ–ª–æ–π –∫–æ—Ä–æ–Ω—ã', ta: '–∑–∞–ø—Ä–µ—Ç "–Ω–µ –±—É–¥—å –∑–Ω–∞—á–∏–º—ã–º"', cbt: '–∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏–∑–∞—Ü–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏', gestalt: '—ç–≥–æ—Ç–∏–∑–º', psycho: '—Å—Ç—Ä–∞—Ö –ø—Ä–µ–≤–∑–æ–π—Ç–∏ –æ—Ç—Ü–∞' },
    { n: '–≥–æ—Ä–µ –æ—Ç —É—Ç—Ä–∞—Ç—ã', mpt: '—Å—Ç–∞–Ω—å —Å–∞–º–æ–π –ª—é–±–æ–≤—å—é –∫ —É—à–µ–¥—à–µ–º—É', eit: '–æ–±—Ä–∞–∑ —á–µ—Ä–Ω–æ–π –¥—ã—Ä—ã', ta: '—Å—Ü–µ–Ω–∞—Ä–∏–π "–Ω–µ –±—É–¥—å –∂–∏–≤—ã–º"', cbt: '—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤–∏–Ω—ã', gestalt: '–Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–æ—â–∞–Ω–∏—è', psycho: '–∏–Ω—Ç—Ä–æ–µ–∫—Ü–∏—è —É—Ç—Ä–∞—á–µ–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞' },
    { n: '–∏–∑–º–µ–Ω–∞ –ø–∞—Ä—Ç–Ω–µ—Ä–∞', mpt: '–≤–æ–∑–≤—Ä–∞—Ç –ø—Ä–æ–µ–∫—Ü–∏–∏ —Ü–µ–Ω–Ω–æ—Å—Ç–∏', eit: '–æ–±—Ä–∞–∑ —Ä–∞–∑–±–∏—Ç–æ–≥–æ –∑–µ—Ä–∫–∞–ª–∞', ta: '–∏–≥—Ä–∞ "—Å–∫–∞–Ω–¥–∞–ª"', cbt: '—á–µ—Ä–Ω–æ-–±–µ–ª–æ–µ –º—ã—à–ª–µ–Ω–∏–µ –æ –¥–æ–≤–µ—Ä–∏–∏', gestalt: '—Ä–µ—Ç—Ä–æ—Ñ–ª–µ–∫—Å–∏—è —è—Ä–æ—Å—Ç–∏', psycho: '–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –¥–µ—Ç—Å–∫–æ–≥–æ –ø—Ä–µ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞' },
    { n: '—Å—Ç—Ä–∞—Ö –±—É–¥—É—â–µ–≥–æ', mpt: '—Ç–æ—á–∫–∞ —Ä–µ—à–µ–Ω–∏—è: —Ç—ã —É–∂–µ —Ç–∞–º', eit: '–æ–±—Ä–∞–∑ —Ç—É–º–∞–Ω–∞', ta: '—Å—Ç—Ä–∞—Ö –ø–æ—Ç–µ—Ä–∏ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π –æ–ø–µ–∫–∏', cbt: '–Ω–µ–≥–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ', gestalt: '–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–ø–æ—Ä—ã –≤ –∑–¥–µ—Å—å-–∏-—Å–µ–π—á–∞—Å', psycho: '—Ç—Ä–µ–≤–æ–≥–∞ –∫–∞—Å—Ç—Ä–∞—Ü–∏–∏' },
    { n: '–ø—Ä–æ–±–ª–µ–º—ã —Å –≤–µ—Å–æ–º', mpt: '–∞–≤—Ç–æ—Ä—Å—Ç–≤–æ –∑–∞—â–∏—Ç—ã', eit: '–∑–∞—â–∏—Ç–Ω—ã–π –∫–æ–∫–æ–Ω', ta: '–±—É–Ω—Ç –ø—Ä–æ—Ç–∏–≤ –¥–∏–µ—Ç—ã-–†–æ–¥–∏—Ç–µ–ª—è', cbt: '–∑–∞–µ–¥–∞–Ω–∏–µ –∫–∞–∫ –∫–æ–ø–∏–Ω–≥-—Å—Ç—Ä–∞—Ç–µ–≥–∏—è', gestalt: '–Ω–µ—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫ –≥–æ–ª–æ–¥—É', psycho: '–æ—Ä–∞–ª—å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è' },
    { n: '—Å–æ—Ü–∏–æ—Ñ–æ–±–∏—è', mpt: '–ø—Ä–æ–µ–∫—Ü–∏—è —Å—É–¥—å–∏ –≤ —Ç–æ–ª–ø—É', eit: '–æ–±—Ä–∞–∑ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ–π —Å—Ç–µ–Ω—ã', ta: '–∑–∞–ø—Ä–µ—Ç "–Ω–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏"', cbt: '—á—Ç–µ–Ω–∏–µ –º—ã—Å–ª–µ–π –ø—Ä–æ—Ö–æ–∂–∏—Ö', gestalt: '–¥–µ—Ñ–ª–µ–∫—Å–∏—è –∫–æ–Ω—Ç–∞–∫—Ç–∞', psycho: '—Å—Ç—Ä–∞—Ö –≤–∑–≥–ª—è–¥–∞ –ë–æ–ª—å—à–æ–≥–æ –î—Ä—É–≥–æ–≥–æ' },
    { n: '–≤—Å–ø—ã—à–∫–∏ –≥–Ω–µ–≤–∞', mpt: '—Å—Ç–∞–Ω—å —ç—Ç–∏–º –≤—É–ª–∫–∞–Ω–æ–º', eit: '–æ–±—Ä–∞–∑ —Ä–∞—Å–∫–∞–ª–µ–Ω–Ω–æ–≥–æ —à–∞—Ä–∞', ta: '–≤—ã—Ö–æ–¥ –†–µ–±–µ–Ω–∫–∞ –∏–∑-–ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª—è', cbt: '–Ω–∏–∑–∫–∞—è —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å –∫ —Ñ—Ä—É—Å—Ç—Ä–∞—Ü–∏–∏', gestalt: '—Ä–µ—Ç—Ä–æ—Ñ–ª–µ–∫—Å–∏—è, —Å—Ç–∞–≤—à–∞—è —è–≤–Ω–æ–π', psycho: '–ø—Ä–æ—Ä—ã–≤ –≤—ã—Ç–µ—Å–Ω–µ–Ω–Ω–æ–≥–æ –ª–∏–±–∏–¥–æ' },
    { n: '–±–µ—Å–ø–ª–æ–¥–∏–µ (–ø—Å–∏—Ö–æ–≥–µ–Ω–Ω–æ–µ)', mpt: '–∞–≤—Ç–æ—Ä—Å—Ç–≤–æ –∑–∞–ø—Ä–µ—Ç–∞ –Ω–∞ –∂–∏–∑–Ω—å', eit: '–æ–±—Ä–∞–∑ –∑–∞–∫—Ä—ã—Ç–æ–π –¥–≤–µ—Ä–∏', ta: '–∑–∞–ø—Ä–µ—Ç "–Ω–µ —Ä–∞—Å—Ç–∏"', cbt: '–¥–æ–ª–∂–µ–Ω—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –±—ã—Ç—å –º–∞—Ç–µ—Ä—å—é', gestalt: '–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ç–≤–æ—Ä—á–µ—Å–∫–æ–≥–æ –∏–º–ø—É–ª—å—Å–∞', psycho: '–∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å –º–∞—Ç–µ—Ä–∏–Ω—Å–∫–æ–π —Ñ–∏–≥—É—Ä–æ–π' },
    { n: '–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –≥–∞–¥–∂–µ—Ç–æ–≤', mpt: '—Å–∞–±–æ—Ç–∞–∂ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏', eit: '–æ–±—Ä–∞–∑ –º–∞–Ω—è—â–µ–≥–æ —Å–∏—è–Ω–∏—è', ta: '—É—Ö–æ–¥ –≤ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–∏—Ä —Ä–µ–±–µ–Ω–∫–∞', cbt: '–∏–∑–±–µ–≥–∞—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ', gestalt: '–¥–µ—Ñ–ª–µ–∫—Å–∏—è –æ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö —á—É–≤—Å—Ç–≤', psycho: '–ø–æ–∏—Å–∫ –≤–µ—á–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏—è' },
    { n: '–ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏—è –≤ –±–∏–∑–Ω–µ—Å–µ', mpt: '—Ä—É—á–Ω–∏–∫ –∫–∞–∫ —Å–ø–∞—Å–µ–Ω–∏–µ', eit: '–æ–±—Ä–∞–∑ –≤—è–∑–∫–æ–≥–æ –±–æ–ª–æ—Ç–∞', ta: '—Å–∞–±–æ—Ç–∞–∂ –¥—Ä–∞–π–≤–µ—Ä–∞ "–±—É–¥—å —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã–º"', cbt: '—Å—Ç—Ä–∞—Ö –Ω–µ—É–¥–∞—á–∏', gestalt: '–ø—Ä–µ—Ä–≤–∞–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ', psycho: '–∫–æ–Ω—Ñ–ª–∏–∫—Ç –≤–ª–µ—á–µ–Ω–∏—è –∫ —É—Å–ø–µ—Ö—É –∏ —Å—Ç—Ä–∞—Ö–∞' }
];

const logic_extenders = {
    mpt: (n, s) => `–ö–∞–∫ —Ç—ã —Å–æ–∑–¥–∞–µ—à—å [${n}] —á–µ—Ä–µ–∑ [${s}]? –°—Ç–∞–Ω—å —ç—Ç–∏–º –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∏ –Ω–∞–π–¥–∏ –≤ –Ω–µ–º —Å–≤–æ—é —Å–∫—Ä—ã—Ç—É—é —Å–∏–ª—É.`,
    eit: (n, s) => `–ü—Ä–µ–¥—Å—Ç–∞–≤—å [${n}] –∫–∞–∫ –æ–±—Ä–∞–∑ [${s}]. –ß—Ç–æ —ç—Ç–æ–º—É –æ–±—Ä–∞–∑—É –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ —Ä–µ—Å—É—Ä—Å?`,
    ta: (n, s) => `–í —Å–∏—Ç—É–∞—Ü–∏–∏ [${n}] —Ç—ã –≤ —ç–≥–æ-—Å–æ—Å—Ç–æ—è–Ω–∏–∏ [${s}]. –ß—Ç–æ –ø–æ —ç—Ç–æ–º—É –ø–æ–≤–æ–¥—É –≥–æ–≤–æ—Ä–∏—Ç —Ç–≤–æ–π –í–∑—Ä–æ—Å–ª—ã–π?`,
    cbt: (n, s) => `–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º—ã—Å–ª—å –ø—Ä–∏ [${n}]: [${s}]. –ù–∞—Å–∫–æ–ª—å–∫–æ –æ–Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ñ–∞–∫—Ç–∞–º —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏?`,
    gestalt: (n, s) => `–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ç–≤–æ–µ–º —Ç–µ–ª–µ –ø—Ä–∏ [${n}] ([${s}])? –û—Å—Ç–∞–≤–∞–π—Å—è –≤ —ç—Ç–æ–º –æ—â—É—â–µ–Ω–∏–∏ –∑–¥–µ—Å—å –∏ —Å–µ–π—á–∞—Å.`,
    psychoanalysis: (n, s) => `–û —á–µ–º —Ç–µ–±–µ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç [${n}] –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ [${s}]? –ß–µ–π –≥–æ–ª–æ—Å –∏–∑ —Ç–≤–æ–µ–≥–æ –ø—Ä–æ—à–ª–æ–≥–æ –∑–≤—É—á–∏—Ç?`
};

// –§–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ 300+ –µ–¥–∏–Ω–∏—Ü
context_matrix.forEach(item => {
    Object.keys(logic_extenders).forEach(schoolKey => {
        if (KNOWLEDGE_DATA.length < 330) {
            KNOWLEDGE_DATA.push({
                mod: schoolKey === 'psycho' ? 'psychoanalysis' : schoolKey,
                cat: 'Clinical Precision',
                trigger: `–ó–∞–ø—Ä–æ—Å: ${item.n}`,
                text: logic_extenders[schoolKey](item.n, item[schoolKey]),
                marker: `${schoolKey.toUpperCase()} Expert Protocol`
            });
        }
    });
});

async function getYandexEmbedding(text) {
    const url = 'https://llm.api.cloud.yandex.net/foundationModels/v1/textEmbedding';
    try {
        const res = await axios.post(url, {
            modelUri: `emb://${FOLDER_ID}/text-search-query/latest`,
            text: text
        }, {
            headers: { 'Authorization': `Api-Key ${YANDEX_API_KEY}`, 'x-folder-id': FOLDER_ID }
        });
        return res.data.embedding;
    } catch (e) {
        logger.error("API Error: " + (e.response?.data?.message || e.message));
        return null;
    }
}

async function run() {
    console.log(`\nüöÄ –ó–ê–ü–£–°–ö –ú–û–ù–û–õ–ò–¢–ù–û–ô –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–ò v21.29.5.`);
    console.log(`üß† –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π: 300+ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –ø–æ 6 —à–∫–æ–ª–∞–º —Ç–µ—Ä–∞–ø–∏–∏.`);

    try {
        const { data: dbData, error: fetchError } = await supabase
            .from('knowledge_base')
            .select('content');

        if (fetchError) throw fetchError;

        const existingContent = new Set((dbData || []).map(d => d.content.trim()));
        console.log(`üì¶ –í –±–∞–∑–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ –º–æ–¥—É–ª–µ–π: ${dbData.length}`);

        let added = 0;

        for (const [i, item] of KNOWLEDGE_DATA.entries()) {
            if (existingContent.has(item.text.trim())) continue;

            const vectorInput = `–®–ö–û–õ–ê: [${item.mod.toUpperCase()}] –ö–ê–¢–ï–ì–û–†–ò–Ø: ${item.cat} –¢–†–ò–ì–ì–ï–†: ${item.trigger} –¢–ï–•–ù–ò–ö–ê: ${item.text} –¶–ï–õ–¨: ${item.marker}`;
            const embedding = await getYandexEmbedding(vectorInput);

            if (!embedding) {
                console.error(`‚ùå –û—à–∏–±–∫–∞ –Ω–∞ –º–æ–¥—É–ª–µ ${i+1}`);
                continue;
            }

            const { error: insertError } = await supabase.from('knowledge_base').insert({
                modality_id: item.mod,
                category: item.cat,
                context_trigger: item.trigger,
                content: item.text,
                embedding: embedding
            });

            if (insertError) {
                console.error(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏: ${insertError.message}`);
            } else {
                added++;
                if (added % 20 === 0) console.log(`‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–æ: ${added} –º–æ–¥—É–ª–µ–π...`);
            }
            
            await new Promise(r => setTimeout(r, 80));
        }

        console.log(`\nüèÅ –°–ò–ù–•–†–û–ù–ò–ó–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê:`);
        console.log(`‚ûï –î–æ–±–∞–≤–ª–µ–Ω–æ –Ω–æ–≤—ã—Ö —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö –º–æ–¥—É–ª–µ–π: ${added}`);
        console.log(`üìö –ò—Ç–æ–≥–æ–≤—ã–π –æ–±—ä–µ–º –±–∞–∑—ã: ${dbData.length + added} –µ–¥–∏–Ω–∏—Ü.`);

    } catch (err) {
        console.error("‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞:", err.message);
    }
}

run();
